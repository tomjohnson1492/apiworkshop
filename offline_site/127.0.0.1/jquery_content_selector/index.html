<!DOCTYPE html>
<html lang="en">
<html>
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="">
   <meta name="keywords" content=",  ">
   <title> DITA: Create a content filter to dynamically filter content | I'd Rather Be Writing </title>
     <link rel="stylesheet" href="../css/syntax.css"  type='text/css'>
   <link href='http://fonts.googleapis.com/css?family=Montserrat:700,400' rel='stylesheet' type='text/css'>
   <link href='http://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
     <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
     <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
     <link rel="stylesheet" href="../css/modern-business.css">

    <link rel="canonical" href="http://idratherbewriting.com/jquery_content_selector/">
    <link rel="stylesheet" href="../css/customstyles.css"  type='text/css'>
    <link rel="canonical" href="http://idratherbewriting.com/jquery_content_selector/">
  <link rel="alternate" type="application/rss+xml" title="" href="http://idratherbewriting.com/feed.xml" />
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
   <script src="../js/jquery.navgoco.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
   <script src="../js/toc.js"></script>
   <script src="../js/customscripts.js"></script>
   <link rel="shortcut icon" href="favicon.ico.html" type="image/x-icon">
    <link rel="icon"  href="favicon.ico.html" type="image/x-icon">
       <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

   <script type="text/javascript" src="../js/signup.js"></script>
   

   

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@dgwolff">
<meta name="twitter:creator" content="@dgwolff">

  <meta name="twitter:title" content="DITA: Create a content filter to dynamically filter content">


  <meta name="twitter:url" content="http://idratherbewriting.com/jquery_content_selector/">


  <meta name="twitter:description" content="Technical writing blog focusing on the latest trends, news, and other topics in the field of technical communication.">


  <meta name="twitter:image:src" content="http://idratherbewriting.com/assets/images/me.png">


 






  </head>

<body>

   
<div id="masthead">
<div class="topBannerAd"><a href="http://www.adobe.com/products/framemaker.html?sdid=KSZHY"><img src="../images/ads/adobe_rectangle2.jpg" alt="Adobe Tech Comm Suite" /></a></div>
    <div class="container">
        <div class="row">
            <div class="col-md-7">

                <div class="siteLogo"><a href="../index.html"><img src="../images/idratherbewriting-site-logo.png" alt="Home" /></a>
                            </div>

            </div>
        </div>

    </div><!-- /cont -->

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="top-spacer"> </div>
            </div>
        </div>
    </div><!-- /cont -->

</div>

<!-- Navigation -->
<!-- navbar-fixed-top-->
<nav class="navbar navbar-inverse" role="banner">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-left">

                
                

                
                <li><a href="../aboutme/index.html">About</a></li>
                

                

                
                <li><a href="../contact/index.html">Contact</a></li>
                

                

                
                <li><a href="../presentations/index.html">Presentations</a></li>
                

                

                
                <li><a href="../category-podcasts/index.html">Podcasts</a></li>
                

                

                
                <li><a href="../category-beginners/index.html">Beginners</a></li>
                

                
                
                


                
                

                <li class="dropdown">
                    <a href="index.html#" class="dropdown-toggle" data-toggle="dropdown">Series<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        

                        
                        <li><a href="../allseries/index.html">Browse all series</a></li>
                        

                        

                        
                        <li><a href="../series-10-voiceover-tips/index.html">10 voiceover techniques</a></li>
                        

                        

                        
                        <li><a href="../series-overview-blogging-sins/index.html">7 deadly sins of blogging</a></li>
                        

                        

                        
                        <li><a href="../series-api-documentation-podcasts/index.html">API documentation podcasts</a></li>
                        

                        

                        
                        <li><a href="../series-api-documentation-survey/index.html">API documentation survey</a></li>
                        

                        

                        
                        <li><a href="../series-author-in-dita-publish-in-wordpress/index.html">Author in DITA and Publish with WordPress</a></li>
                        

                        

                        
                        <li><a href="../series-my-dita-journey/index.html">DITA journey</a></li>
                        

                        

                        
                        <li><a href="../series-dallas-stc-summit-videocasts/index.html">Dallas STC Summit videocasts</a></li>
                        

                        

                        
                        <li><a href="../series-get-a-job-in-technical-writing/index.html">Get a Job in Technical Writing</a></li>
                        

                        

                        
                        <li><a href="../series-innovation-in-tech-comm/index.html">Innovation in tech comm</a></li>
                        

                        

                        
                        <li><a href="../series-jekyll-versus-dita/index.html">Jekyll versus DITA</a></li>
                        

                        

                        
                        <li><a href="../series-my-dita-journey/index.html">My DITA journey</a></li>
                        

                        

                        
                        <li><a href="../series-quick-reference-guides/index.html">Quick reference guides</a></li>
                        

                        

                        
                        <li><a href="../series-search-engine-optimization/index.html">Search engine optimization</a></li>
                        

                        

                        
                        <li><a href="../series-user-centered-documentation/index.html">User-centered documentation</a></li>
                        

                        

                        
                        <li><a href="../series-my-journey-to-and-from-wikis/index.html">My journey to and from wikis</a></li>
                        

                        

                        
                        <li><a href="../series-from-overlooked-to-center-stage/index.html">From overlooked to center stage</a></li>
                        

                        

                    </ul>
                </li>
                

                <li class="dropdown">
                    <a href="index.html#" class="dropdown-toggle" data-toggle="dropdown">Tech Notes<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        

                        
                        <li><a href="../toc-javascript/index.html">JavaScript</a></li>
                        

                        

                        
                        <li><a href="../toc-dita/index.html">DITA</a></li>
                        

                        

                        
                        <li><a href="../toc-java/index.html">Java</a></li>
                        

                        

                        
                        <li><a href="../toc-apis/index.html">APIs</a></li>
                        

                        

                    </ul>
                </li>
                

                <li class="dropdown">
                    <a href="index.html#" class="dropdown-toggle" data-toggle="dropdown">Categories<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        

                        
                        <li><a href="../category-api-doc/index.html">API documentation</a></li>
                        

                        

                        
                        <li><a href="../category-beginners/index.html">Beginner tips, career advice</a></li>
                        

                        

                        
                        <li><a href="../category-blogging/index.html">Blogging</a></li>
                        

                        

                        
                        <li><a href="../category-creativity/index.html">Creativity</a></li>
                        

                        

                        
                        <li><a href="../category-dita/index.html">DITA</a></li>
                        

                        

                        
                        <li><a href="../category-family/index.html">Family</a></li>
                        

                        

                        
                        <li><a href="../category-findability/index.html">Findability</a></li>
                        

                        

                        
                        <li><a href="../category-general/index.html">General</a></li>
                        

                        

                        
                        <li><a href="../category-innovation/index.html">Innovation</a></li>
                        

                        

                        
                        <li><a href="../category-jekyll/index.html">Jekyll</a></li>
                        

                        

                        
                        <li><a href="../category-podcasts/index.html">Podcasts</a></li>
                        

                        

                        
                        <li><a href="../category-quick-reference-guides/index.html">Quick reference guides</a></li>
                        

                        

                        
                        <li><a href="../category-screencasting/index.html">Screencasting</a></li>
                        

                        

                        
                        <li><a href="../category-user-centered-documentation/index.html">User-centered documentation</a></li>
                        

                        

                        
                        <li><a href="../category-video/index.html">Video</a></li>
                        

                        

                        
                        <li><a href="../category-visual-communication/index.html">Visual communication</a></li>
                        

                        

                        
                        <li><a href="../category-web-design/index.html">Web design</a></li>
                        

                        

                        
                        <li><a href="../category-wikis/index.html">Wikis</a></li>
                        

                        

                        
                        <li><a href="../category-wordpress/index.html">WordPress</a></li>
                        

                        

                        
                        <li><a href="../category-writing/index.html">Writing</a></li>
                        

                        

                    </ul>
                </li>
                
                



                <li>

<form class="navbar-form navbar-left" role="search" onsubmit="my_search_google()">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search" id="my-google-search">
          </div>
        </form>

                </li>


        </div>
        <!-- /.container -->
</nav>


<!--

-->

    <!-- Page Content -->
    <div class="container">
    <div class="col-lg-12">&nbsp;</div>


<!-- Content Row -->
<div class="row">
    <!-- Sidebar Column -->
    <div class="col-md-3">


        <ul id="mytechsidebar" class="nav">
<div class="socialMediaButtons">
<a href="http://feeds.feedburner.com/tomjohnson"><div class="srssfeed"></div></a>

<a href="http://twitter.com/tomjohnson"><div class="stwitter"></div></a>

<a href="https://www.facebook.com/idratherbewriting"><div class="sfacebook"></div></a>

<a href="http://itunes.apple.com/us/podcast/id277365275"><div class="situnes"></div></a>

<a href="https://plus.google.com/+Idratherbewriting/posts"><div class="sgoogleplus"></div></a>

<a href="https://www.linkedin.com/groups?home=&gid=6758055"><div class="slinkedin"></div></a>
    </div>

<h3 class="sidebar">Newsletter signup</h3>
<p>Get new posts delivered straight to your inbox.</p>
<div class="form-group">
<form style="text-align: center; background-color: whitesmoke; border:1px solid #ccc;padding:3px;text-align:center" action="https://tinyletter.com/tomjohnson1492" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/tomjohnson1492', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true"><p><label for="tlemail">Enter your email address</label></p><p><input type="text" style="width:140px" name="email" id="tlemail" /></p><input type="hidden" value="1" name="embed"/><input type="submit" value="Subscribe" class="btn btn-warning"></input><p><small><a href="https://tinyletter.com" target="_blank">powered by TinyLetter</a></small></p>


</form>
</div>

<div class="sidebarAds">
    <h3 class="sidebar"> Sponsors</h3>
<script>
var contents=new Array()
contents[0]='<a href="http://www.madcapsoftware.com/flare11/?utm_source=IdRatherBeWriting&amp;utm_medium=Banner&amp;utm_campaign=Flare11"><img src="/images/ads/madcap.png" alt="Madcap Software" /></a>'
contents[1]='<a href="http://www.adobe.com/products/framemaker.html?sdid=KSZHX"><img src="/images/ads/adobe_square.jpg" alt="Adobe Tech Comm Suite" /></a>'
contents[2]='<a href="http://www.simplifiedenglish.net/"><img src="/images/ads/tedopres.gif" alt="Tedopres" /></a>'
contents[3]='<a href="http://www.paligo.se/"><img src="/images/ads/paligo.gif" alt="Paligo" /></a>'
contents[4]='<a href="http://clickhelp.co/"><img src="/images/ads/clickhelp.gif" alt="Clickhelp" /></a>'
contents[5]='<a href="http://www.drexplain.com/"><img src="/images/ads/drexplain.png" alt="Dr. Explain" /></a>'

var i=0
//variable used to contain controlled random number
var random
//while all of array elements haven't been cycled thru
while (i<contents.length){
//generate random num between 0 and arraylength-1
random=Math.floor(Math.random()*contents.length)
//if element hasn't been marked as "selected"
if (contents[random]!="selected"){
document.write(contents[random])
//mark element as selected
contents[random]="selected"
i++
}
}
</script>

<div style="clear:both;"/>
<h3 class="sidebar">Text links</h3>
<ul>
    <li><a href="http://www.wordpresswriter.com/">Wordpresswriter.com</a></li>
    <li><a href="http://www.campusgrumbleconnect.com/">College writing tips</a></li>
    <li><a href="http://one.dealspotr.com/onecom">Onecom</a></li>
    <li><a href="http://hostpapa.dealspotr.com/hostpapa">Host Papa</a></li>
    <li><a href="http://justhost.dealspotr.com/justhost">Just Host</a></li>
</ul>
<h3 class="sidebar">Recent Comments</h3>
<div class="recentComments">
<script type="text/javascript" src="http://idratherbewriting.disqus.com/combination_widget.js?num_items=10&hide_mods=0&color=grey&default_tab=recent&excerpt_length=70"></script>

</ul>

    </div>


            <!-- Content Column -->
            <div class="col-md-9">

                <div class="post-header">
   <h1 class="post-title-main">DITA: Create a content filter to dynamically filter content</h1>
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    <div class="post-content">

   

  <h1 class="title topictitle1">DITA: Create a content filter to dynamically filter content</h1>
<div class="body taskbody">
<p class="shortdesc">You can include a content selector that allows users to toggle content on or off. This<br />
  is useful if, for example, you have some content you want to show or hide from users, such as code<br />
  snippets for a particular programming language. </p>
<div class="section context">
<p class="p">For example, suppose your content has four programming language code snippets. You want to<br />
        allow your users to select one language and have all the rest be hidden. You can add a<br />
        content selector to your output so that users can select the type of content they want to<br />
        see. </p>
<div class="note tip"><span class="tiptitle">Tip:</span> For a demo, see <a class="xref external" href="http://idratherbetellingstories.com/wp-content/uploads/oxygendemos/contentselector/" target="_blank">the content selector demo page</a>.</div>
<p class="p">This content selector is a style switcher developed by hibbard.eu explained here: <a class="xref external" href="http://hibbard.eu/using-cookies-with-jquery-to-make-a-simple-style-switcher/" target="_blank">Using cookies with jQuery to make a simple style switcher</a>. Although there are a variety of jQuery style switchers available, I like this one because it implements the jQuery cookie to remember the user's selection from page to page. This is critical for the content selector to work site-wide. (Without the cookie, the user would need to re-select an option with each new page.</p>
</p></div>
<p class="li stepsection">To implement the content selector:</p>
<ol class="ol steps">
<li class="li step stepexpand">
   <span class="ph cmd">In a text editor, open the web_topic.js file found in the following directory: <span class="ph filepath">[Oxygen Install Directory]/frameworks/dita/DITA-OT/plugins/com.oxygenxml.webhelp/oxygen-webhelp/resources/js</span></span></li>
<li class="li step stepexpand"><span class="ph cmd">Before the closing <samp class="ph codeph">)};</samp>, add the following script:</span>
<div class="itemgroup stepxmp">
<pre class="pre codeblock language-java">
   function removeAddBodyClass(){
    <em class="hl-comment" style="color:#006400">/* For topics loaded in iFrame */</em>
    $(<span class="hl-string" style="color:#2a00ff">"body"</span>).removeClass();
    $(<span class="hl-string" style="color:#2a00ff">"body"</span>).addClass($.cookie(<span class="hl-string" style="color:#2a00ff">'body_colour'</span>));
    <em class="hl-comment" style="color:#006400">/* For TOC */</em>
    $(<span class="hl-string" style="color:#2a00ff">"#bck_toc"</span>, parent.document).removeClass();
    $(<span class="hl-string" style="color:#2a00ff">"#bck_toc"</span>, parent.document).addClass($.cookie(<span class="hl-string" style="color:#2a00ff">'body_colour'</span>));
}
    
    removeAddBodyClass();
    
    $(<span class="hl-string" style="color:#2a00ff">"#selector"</span>).change(function(){
    $.cookie(<span class="hl-string" style="color:#2a00ff">'body_colour'</span>, $(<span class="hl-string" style="color:#2a00ff">"#selector"</span>).val());
    removeAddBodyClass();
    });
    
    $(<span class="hl-string" style="color:#2a00ff">"#selector &gt; option"</span>).each(function() {
    <strong class="hl-keyword" style="color:#7f0055">if</strong>($(<strong class="hl-keyword" style="color:#7f0055">this</strong>).val() == $.cookie(<span class="hl-string" style="color:#2a00ff">'body_colour'</span>)){
    $(<strong class="hl-keyword" style="color:#7f0055">this</strong>).attr(<span class="hl-string" style="color:#2a00ff">"selected"</span>,<span class="hl-string" style="color:#2a00ff">"selected"</span>); 
    }
    });
    </pre>
<p class="p">This script is from the demo download zip file available on <a class="xref external" href="http://hibbard.eu/using-cookies-with-jquery-to-make-a-simple-style-switcher/" target="_blank">Hibbard's site.</a> (Scroll<br />
            to the bottom of the page where you can download the demo as a zip file; then open one<br />
            of the HTML files to see the script.) There is one modification, though. I added the<br />
              <samp class="ph codeph">#bck_toc", parent.document</samp> triggers to apply the same adding and<br />
            removing of classes to the table of contents. This is because OxygenXML's output puts<br />
            the TOC and the body in separate frames. </p>
</p></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Save the file.</span>
<div class="itemgroup info">
<p class="p">Note: You'll notice that the zip download also contains a jQuery cookie file. This is the general cookie plugin for jQuery. Fortunately, OxygenXML already includes this jQuery script, which you can verify by looking in the <span class="ph filepath">[Oxygen Install Directory]/frameworks/dita/DITA-OT/plugins/com.oxygenxml.webhelp/oxygen-webhelp/resources/js</span> directory.</p>
</p></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">By default, attributes you add to content, such as <samp class="ph codeph">platform="java"</samp> won't<br />
          appear in the output (they're stripped out entirely). We need to hack Oxygen's webhelp<br />
          XSLT to allow these tags to pass through. In a text editor, open the dita2htmllmpl.xsl<br />
          file found in the following directory: <span class="ph filepath">[Oxygen Install<br />
            Directory]/frameworks/dita/DITA-OT/plugins/org.dita.xhtml/xsl/xslhtml</span>.</span>
   </li>
<li class="li step stepexpand"><span class="ph cmd">Locate the line that begins "&lt;xsl:template name="commonattributes"&gt;" and replace that<br />
     section with the following:</span></p>
<div class="itemgroup stepxmp">
<pre class="pre codeblock">
  &lt;xsl:template name="commonattributes"&gt;
    &lt;xsl:param name="default-output-class"/&gt;
    &lt;xsl:apply-templates select="<a href='https://github.com/xml' class='user-mention'>@xml</a>:lang"/&gt;
    &lt;xsl:apply-templates select="<a href='https://github.com/dir' class='user-mention'>@dir</a>"/&gt;
    &lt;xsl:apply-templates select="*[contains(<a href='https://github.com/class' class='user-mention'>@class</a>, ' 
      ditaot-d/ditaval-startprop ')]/<a href='https://github.com/outputclass' class='user-mention'>@outputclass</a>" mode="add-ditaval-style"/&gt;
    &lt;xsl:apply-templates select="." mode="set-output-class"&gt;
      &lt;xsl:with-param name="default" select="$default-output-class"/&gt;
    &lt;/xsl:apply-templates&gt;
    &lt;xsl:if test="<a href='https://github.com/audience' class='user-mention'>@audience</a>"&gt;
      &lt;xsl:attribute name="data-audience"&gt;&lt;xsl:value-of 
        select="<a href='https://github.com/audience' class='user-mention'>@audience</a>"/&gt;&lt;/xsl:attribute&gt;
    &lt;/xsl:if&gt;
    &lt;xsl:if test="<a href='https://github.com/platform' class='user-mention'>@platform</a>"&gt;
      &lt;xsl:attribute name="data-platform"&gt;&lt;xsl:value-of 
        select="<a href='https://github.com/platform' class='user-mention'>@platform</a>"/&gt;&lt;/xsl:attribute&gt;
    &lt;/xsl:if&gt;
    &lt;xsl:if test="<a href='https://github.com/id' class='user-mention'>@id</a>"&gt;
      &lt;xsl:attribute name="id"&gt;&lt;xsl:value-of 
        select="<a href='https://github.com/id' class='user-mention'>@id</a>"/&gt;&lt;/xsl:attribute&gt;
    &lt;/xsl:if&gt;
  &lt;/xsl:template&gt;
     </pre>
<p class="p">This will allow the <samp class="ph codeph">platform</samp>,<br />
       <samp class="ph codeph">audience</samp>, and <samp class="ph codeph">id</samp> attributes to pass through as attributes in<br />
      the output (so you can leverage them). Without these attributes in the output, you won't be<br />
      able to select the content. </p>
<p class="p">Note that in the future, this hack may be unnecessary. The ditaval file allows you to add a <samp class="ph codeph">passthrough</samp> attribute to elements, but this attribute does not work in Oxygen's webhelp output.</p>
</p></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Go to your custom skin's stylesheet. Near the bottom, add the following styles: </span>
<div class="itemgroup stepxmp">
<pre class="pre codeblock language-css">
     <em class="hl-comment" style="color:#006400">/* by default, java is shown because on initial page load, we don't want blank spaces with no code.*/</em>
#bck_toc li.cpp, #bck_toc li.dotnet, #bck_toc li.php, body [data-platform*=cpp], body [data-platform*=dotnet], body [data-platform*=php] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: none;
}
body.java [data-platform*=java] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: block!important;
}
body.java .ph[data-platform*=java] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: inline!important;
}
#bck_toc.java li.java, body.cpp [data-platform*=cpp] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: block!important;
}
body.cpp .ph[data-platform*=cpp] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: inline!important;
}
#bck_toc.cpp li.cpp {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: block!important;
}
#bck_toc.cpp li.java, body.cpp [data-platform*=java] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: none;
}
body.dotnet [data-platform*=dotnet] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: block!important;
}
body.dotnet .ph[data-platform*=dotnet] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: inline!important;
}
#bck_toc.dotnet li.dotnet {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: block!important;
}
#bck_toc.dotnet li.java, body.dotnet [data-platform*=java] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: none;
}
body.php [data-platform*=php] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: block!important;
}
body.php .ph[data-platform*=php] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: inline!important;
}
#bck_toc.php li.php {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: block!important;
}
#bck_toc.php li.java, body.php [data-platform*=java] {
    <strong class="hl-keyword" style="color:#7f0055">display</strong>: none;
}
    
    
    #progSelector {
    <strong class="hl-keyword" style="color:#7f0055">margin-left</strong>:<span class="hl-number">600</span>px;
    
    }
    </pre>
<p class="p">You will need to adjust this code depending on the classes you're adding. For example, if you don't want your four selections to be java, php, dotnet, and cpp, swap in the classes you intend to use. Also, if you're not using platform but rather product or audience, make that switch as well.</p>
<p class="p">Basically, here's a summary of what's going on with this CSS. By default, the content selector doesn't have an initial selection. In this example, anything tagged with the class <samp class="ph codeph">cpp</samp>, <samp class="ph codeph">dotnet</samp>, or <samp class="ph codeph">php</samp> will initially be hidden, but not <samp class="ph codeph">java</samp>. This is because we don't want blank spaces in the code to appear before the user selects something in the content selector. (By the way, make sure that the default content that appears (e.g., java) is first in your selector's options. This step is described later).</p>
<p class="p">When a user makes a selection from the selector, the jQuery script adds a class to the <samp class="ph codeph">body</samp> element. The selector <samp class="ph codeph">body.cpp [data-platform*="cpp"]</samp> says for anything inside the <samp class="ph codeph">body</samp>element with the <samp class="ph codeph">cpp</samp> class that also has the attribute of <samp class="ph codeph">data-platform=cpp</samp>, then apply this style.</p>
<p class="p">When a user makes a selection, we want to display content with that data attribute, so we set <samp class="ph codeph">display:block</samp>. We also hide the <samp class="ph codeph">java</samp> (which was never hidden by default). For any non-block level items, we want to set their display as <samp class="ph codeph">display:inline</samp> rather than <samp class="ph codeph">block</samp> so that we don't end up with paragraph breaks for inline elements. Right now only <samp class="ph codeph">ph</samp> elements are set as <samp class="ph codeph">display:inline</samp>, but if there are others, add them there following the same pattern. (Unfortunately, in the world of CSS, there is no opposite to <samp class="ph codeph">display:none</samp> -- only <samp class="ph codeph">display:block</samp> or <samp class="ph codeph">display:inline</samp>.</p>
<p class="p">The <samp class="ph codeph">.ph[data-platform*="java"]</samp> selector means that for any <samp class="ph codeph">ph</samp> classes that contain an attribute of <samp class="ph codeph">data-platform</samp>, apply this style.</p>
</p></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a selector in your header file to allow users to select the content they want to see. To do this, create a new XHTML file and add the following: </span>
<div class="itemgroup stepxmp">
<pre class="pre codeblock">
&lt;p id="progSelector"&gt;Select your programming language: &lt;select id="selector"&gt;
    &lt;option value="java"&gt;Java&lt;/option&gt;
    &lt;option value="dotnet"&gt;.NET&lt;/option&gt;	
    &lt;option value="cpp"&gt;C++&lt;/option&gt;
    &lt;option value="php"&gt;PHP&lt;/option&gt;			
&lt;/select&gt;&lt;/p&gt;    
   </pre>
<p class="p">Replace the options with whatever you want. Just keep in mind that the values must match your classes. Also, by default, the first option will appear in the selector, even though the user hasn't actually made that selection. This is why <samp class="ph codeph">java</samp> is not hidden by default in the styles.</p>
</p></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">In OxygenXML, open your map file, click the <span class="ph uicontrol">Configure Transformation Scenarios</span> button, and duplicate the DITA Map Webhelp output.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Edit the copy, click the <span class="ph uicontrol">Parameters</span> tab, and in the <span class="ph uicontrol">args.hdf</span> option, browse to the XHTML file you created.</span></li>
<li class="li step stepexpand"><span class="ph cmd">When you create content, add <samp class="ph codeph">platform="java"</samp> and such to your content. Users will be able to select the attributes they want.</span></li>
<li class="li step stepexpand">
        <span class="ph cmd">For the ditamap file, instead of addding <samp class="ph codeph">platform="java"</samp>, you must use<br />
            <samp class="ph codeph">outputclass="java"</samp>. This is because the DITA OT processes the TOC<br />
          differently from the rest of the content, and any platform/data tags get stripped out of<br />
          the output.</span>
      </li>
</ol>
<div class="section postreq">
<div class="note note"><span class="notetitle">Note:</span> Note that in order to see the content selector work, you must upload the content to a web server. On a Mac, because there's a built-in web server, you can go to <span class="ph filepath">Library &gt; Webserver &gt; Documents</span>. If you put your webhelp in this folder, in a browser you can go to <samp class="ph codeph">localhost/&lt;folder name&gt;</samp> to view the content.</div>
</p></div>
</p></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../toc_publishing/index.html" title="This section contains various tips related to publishing.">Publishing</a></div>
</div>
</div>


    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'idratherbewriting'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>


   <!-- Footer -->
      












<hr class="faded"/> 
<footer>


            <div class="row">
                <div class="col-lg-12 footer">
                &copy;2015 I'd Rather Be Writing <img src="../images/orangesquaresmall.png"/> . All rights reserved.
                </div>
            </div>
        </footer>

            </div><!-- /.row -->

        <hr>

    </div>    <!-- /.container -->

</div>
</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-408430-5','auto');ga('require','displayfeatures');ga('send','pageview');</script>



</html>

